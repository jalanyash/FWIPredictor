<html>
    <body>
        <div class="login">
            <h1>FWI Prediction</h1>
            <!-- <form action=" {{ url_for( 'predict_datapoint' )}} " method="post"> -->
                <form action="/predictdata" method="post">

                <input type="text" name="Temperature" placeholder="Temperature" required="required"/><br>
                <input type="text" name="RH" placeholder="RH" required="required"/><br>
                <input type="text" name="WS" placeholder="WS" required="required"/><br>
                <input type="text" name="Rain" placeholder="Rain" required="required"/><br>
                <input type="text" name="FFMC" placeholder="FFMC" required="required"/><br>
                <input type="text" name="DMC" placeholder="DMC" required="required"/><br>
                <input type="text" name="ISI" placeholder="ISI" required="required"/><br>
                <input type="text" name="Classes" placeholder="Classes" required="required"/><br>
                <input type="text" name="Region" placeholder="Region" required="required"/><br>
                <button type="submit" class="btn btn-primary btn-block btn-large">Predict</button>
            </form>
            <!-- <h2 > The FWI prediction is {{results}}</h2> -->
            <h2 id="result"></h2>  
            <a href="/">Back to Home</a>
        </div>
        <script>
            document.getElementById('predictionForm').onsubmit = async function(event) {
                event.preventDefault(); // Prevent default form submission
    
                const formData = new FormData(this);
                const response = await fetch('/predictdata', {
                    method: 'POST',
                    body: formData
                });
    
                if (response.ok) {
                    const data = await response.json();
                    // Format the result message
                    document.getElementById('result').innerText = 'The prediction is: ' + data.result;
                } else {
                    document.getElementById('result').innerText = 'Error: ' + response.statusText;
                }
            };
        </script>
    </body>
    </body>
</html>